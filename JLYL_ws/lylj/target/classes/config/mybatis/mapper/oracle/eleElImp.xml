<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.it.lylj.electronic.model.ElectronicDAO">

	<insert id="insertEle" parameterType="ElectronicVo">
		<selectKey keyProperty="electronicNo" resultType="int"
			order="BEFORE">
			select ELIMP_SEQ.nextval from dual
		</selectKey>
		insert into ELIMP
		values (#{electronicNo} , sysdate,
		#{electronicTitle}, #{electronicContent}, #{electronicFileFlag},
		#{electronicCompletFlag},
		#{electronicEmergencyFlag}, #{empNo},
		#{styleNo})

	</insert>

	<select id="selectByElectronicNo" parameterType="int"
		resultType="ElectronicVo">
		select * from elimp
		where electronic_no= #{electronicNo}
	</select>

	<select id="selectMaxEleNo" parameterType="int" resultType="int">
		select MAX(electronic_no) from elimp
		where emp_no = #{empNo}

	</select>
	
	<select id="selectByEmpNo" resultType="ElectronicVo" parameterType="int">
				select a.* from 
				elimp a join appline b
				on a.electronic_no = b.electronic_no
				where b.emp_no = #{empNo}
	</select>
	

</mapper>













